<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="lib/bootstrap-5.2.3/dist/css/bootstrap.css">
    <link rel="stylesheet" href="lib/animate.css/animate.css">
    <script src="https://kit.fontawesome.com/a1c6ec28f2.js" crossorigin="anonymous"></script>
    
    <!--favicon-->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles/styles_parallax.css">
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="stylesheet" href="styles/styles-index.css">
    <link rel="stylesheet" href="styles/styles_dark_mode.css">
    <link rel="stylesheet" href="styles/style-plugin.css">

    <!--Lottie-->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <title>Experiencia Rabanito</title>
</head>
<body>
   
    
    <!-- Old 
         <div id="loader">
        <div class="lds-heart"><div></div></div>
        </div>

        <label class="switch-mode">
        <input class='toggle-checkbox' type='checkbox' id="darkModeToggle"></input>
        <div class='toggle-slot'>
          <div class='sun-icon-wrapper'>
            <div class="iconify sun-icon" data-icon="feather-sun" data-inline="false"></div>
          </div>
          <div class='toggle-button'></div>
          <div class='moon-icon-wrapper'>
            <div class="iconify moon-icon" data-icon="feather-moon" data-inline="false"></div>
          </div>
        </div>
    </label>
    
    Seccion 1 presentaciÃ³n 

    <section class="section" id="section1">
        <div class="d-flex">
            <div class="columna-titulo"><h2>Â¡Hola!<br><span>somos Rabanito</span></h2></div>
            <div class="columna-fondo-violeta">
                <div class="fondo-rotar"></div>
            </div>
        </div>
    </section>
    
    Mensaje de alerta 

    <div class="modal fade" id="cookies-section" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-md">
            <div class="modal-content">
                <div class="modal-header justify-content-center">
                    <lottie-player src="https://lottie.host/a9c38abd-1e57-485f-b931-81222e46a100/7v16ANZPwN.json" background="transparent"  speed="0.2"  style="width: 200px; height: 200px;" loop autoplay></lottie-player>
                </div> 
                <div class="modal-body text-center">
                    <h3><b>Permitir Cookies</b></h3>
                    <p class="mt-3">Usamos cookies para asegurarnos la mejor experiencia dentro de nuestro sitio</p>
                </div>
                <div class="modal-footer justify-content-evenly">
                    <button class="btn btn-secondary"id="no-accept-cookies">No, gracias</button>
                    <button class="btn btn-primary" id="accept-cookies">Ã‘om Â¡Que rico!</button>
                </div>
            </div>
        </div>
    </div>

   Cookies Modal 

    <div class="modal fade" id="cookies-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> 
                </div>
                <div class="modal-body text-center">
                    <h3><b>Â¡Cookies aceptadas!</b></h3>
                    <p class="mt-3">Es bueno empezar la experiencia con algo dulce! ðŸ˜‹<br>Dale a <b>"continuar"</b> para seguir conociÃ©ndonos</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="continuar-cookies"><span>Continuar</span></button>
                </div>
            </div>
        </div>
    </div>  
    Gatitos Modal 
    <div class="modal fade" id="gatitos-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    
                </div>
                <div class="modal-body">
                    <h3><b>Â¿No te gustan las cookies? ðŸ¥º</b></h3>
                    <p>Esperamos que si te gusten los gatitos como a nosotras</p>
                    <p>Ahora te invitamos a que nos conozcas un poco mÃ¡s</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary"  id="continuar-gatitos"><span>Continuar</span></button>
                </div>
            </div>
        </div>
    </div>-->
    <!--Seccion 1 | Intro-->
    <section class="section d-none" id="section1"></section>

    <!--Seccion 2 | Boton a Manifiesto-->
    <section class="section d-none" id="section2">
        <div class="row">
            <div class="col-12 text-center section-items">
                <p class="title-section">Â¿DÃ³nde estamos? En un mundo en donde <strong>todo puede pasar. </strong> <br>
                    Te llevaremos por una serie de instancias en donde vas a poder experimentar los diversos planos que nos conforman
                </p>
                <button class="cube-btn" onclick="iraManifiesto()">
                    <img src="assets/img/cube-purple.png" alt="cubo-3d" width="70%">
                </button>
            </div>
        </div>
    </section>
    <!--JS-->

    <script src="lib/bootstrap-5.2.3/dist/js/bootstrap.bundle.js"></script>
    <script src="lib/jQuery-3.6.4/jquery-3.6.4.min.js"></script>
    <script src="js/emoji-rain.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    
    
    <!-- partial -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.4/gsap.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.4/ScrollTrigger.min.js'></script>
    <script  src="js/script.js"></script>


   <!--- <script>
        new WOW().init();
    </script>-->

    <script src="https://code.iconify.design/1/1.0.4/iconify.min.js">   </script>
    
   
    <script src="js/custom.js"></script>
    
    <script>
        function iraManifiesto(){
            $(".cube-btn").addClass("cube-click");

            setTimeout(function() {
            window.location.href = "/manifiesto.html";
            }, 150);
        }
    </script>

    <script>
         
        gsap.registerPlugin(ScrollTrigger);
        let speed = 100;

        /*  SCENE 1 */
        let scene1 = gsap.timeline();
        ScrollTrigger.create({
            animation: scene1,
            trigger: ".scrollElement",
            start: "top top",
            end: "45% 100%",
            scrub: 3,
        });

        // hills animation 
        scene1.to("#h1-1", { y: 3 * speed, x: 1 * speed, scale: 0.9, ease: "power1.in" }, 0)
        scene1.to("#h1-2", { y: 2.6 * speed, x: -0.6 * speed, ease: "power1.in" }, 0)
        scene1.to("#h1-3", { y: 1.7 * speed, x: 1.2 * speed }, 0.03)
        scene1.to("#h1-4", { y: 3 * speed, x: 1 * speed }, 0.03)
        scene1.to("#h1-5", { y: 2 * speed, x: 1 * speed }, 0.03)
        scene1.to("#h1-6", { y: 2.3 * speed, x: -2.5 * speed }, 0)
        scene1.to("#h1-7", { y: 5 * speed, x: 1.6 * speed }, 0)
        scene1.to("#h1-8", { y: 3.5 * speed, x: 0.2 * speed }, 0)
        scene1.to("#h1-9", { y: 3.5 * speed, x: -0.2 * speed }, 0)

        //animate text
        scene1.to("#info", { y: 8 * speed }, 0)



        /*   Bird   */
        gsap.fromTo("#bird", { opacity: 1 }, {
            y: -250,
            x: 800,
            ease: "power2.out",
            scrollTrigger: {
                trigger: ".scrollElement",
                start: "15% top",
                end: "60% 100%",
                scrub: 4,
                onEnter: function() { gsap.to("#bird", { scaleX: 1, rotation: 0 }) },
                onLeave: function() { gsap.to("#bird", { scaleX: -1, rotation: -15 }) },
            }
        })


        /* Clouds  */
        let clouds = gsap.timeline();
        ScrollTrigger.create({
            animation: clouds,
            trigger: ".scrollElement",
            start: "top top",
            end: "70% 100%",
            scrub: 1,
        });

        clouds.to("#cloud1", { x: 500 }, 0)
        clouds.to("#cloud2", { x: 1000 }, 0)
        clouds.to("#cloud3", { x: -1000 }, 0)
        clouds.to("#cloud4", { x: -700, y: 25 }, 0)



        /* Sun motion Animation  */
        let sun = gsap.timeline();
        ScrollTrigger.create({
            animation: sun,
            trigger: ".scrollElement",
            start: "top top",
            end: "2200 100%",
            scrub: 1,
        });

        //sun motion 
        sun.to("#bg_grad", { attr: { cy: "330" } }, 0.00)

        //bg change
        sun.to("#sun", { attr: { offset: "0.15" } }, 0.00)
        sun.to("#bg_grad stop:nth-child(2)", { attr: { offset: "0.15" } }, 0.00)
        sun.to("#bg_grad stop:nth-child(3)", { attr: { offset: "0.18" } }, 0.00)
        sun.to("#bg_grad stop:nth-child(4)", { attr: { offset: "0.25" } }, 0.00)
        sun.to("#bg_grad stop:nth-child(5)", { attr: { offset: "0.46" } }, 0.00)
        sun.to("#bg_grad stop:nth-child(6)", { attr: { "stop-color": "#FF9171" } }, 0)



        /*   SCENE 2  */
        let scene2 = gsap.timeline();
        ScrollTrigger.create({
            animation: scene2,
            trigger: ".scrollElement",
            start: "15% top",
            end: "40% 100%",
            scrub: 4,
        });

        scene2.fromTo("#h2-1", { y: 500, opacity: 0 }, { y: 0, opacity: 1 }, 0)
        scene2.fromTo("#h2-2", { y: 500 }, { y: 0 }, 0.1)
        scene2.fromTo("#h2-3", { y: 700 }, { y: 0 }, 0.1)
        scene2.fromTo("#h2-4", { y: 700 }, { y: 0 }, 0.2)
        scene2.fromTo("#h2-5", { y: 800 }, { y: 0 }, 0.3)
        scene2.fromTo("#h2-6", { y: 900 }, { y: 0 }, 0.3)



        /* Bats */
        gsap.fromTo("#bats", { opacity: 1, y: 400, scale: 0 }, {
            y: 120,
            scale: 0.8,
            transformOrigin: "50% 50%",
            ease: "power3.out",
            scrollTrigger: {
                trigger: ".scrollElement",
                start: "40% top",
                end: "70% 100%",
                scrub: 3,
                onEnter: function() {
                    gsap.utils.toArray("#bats path").forEach((item, i) => {
                        gsap.to(item, { scaleX: 0.5, yoyo: true, repeat: 11, duration: 0.15, delay: 0.7 + (i / 10), transformOrigin: "50% 50%" })
                    });
                    gsap.set("#bats", { opacity: 1 })
                },
                onLeave: function() { gsap.to("#bats", { opacity: 0, delay: 2 }) },
            }
        })


        /* Sun increase */
        let sun2 = gsap.timeline();
        ScrollTrigger.create({
            animation: sun2,
            trigger: ".scrollElement",
            start: "2200 top",
            end: "5000 100%",
            scrub: 1,
        });

        sun2.to("#sun", { attr: { offset: "0.6" } }, 0)
        sun2.to("#bg_grad stop:nth-child(2)", { attr: { offset: "0.7" } }, 0)
        sun2.to("#sun", { attr: { "stop-color": "#ffff00" } }, 0)
        sun2.to("#lg4 stop:nth-child(1)", { attr: { "stop-color": "#623951" } }, 0)
        sun2.to("#lg4 stop:nth-child(2)", { attr: { "stop-color": "#261F36" } }, 0)
        sun2.to("#bg_grad stop:nth-child(6)", { attr: { "stop-color": "#45224A" } }, 0)



        /* Transition (from Scene2 to Scene3) */
        gsap.set("#scene3", { y: 580, visibility: "visible" })
        let sceneTransition = gsap.timeline();
        ScrollTrigger.create({
            animation: sceneTransition,
            trigger: ".scrollElement",
            start: "70% top",
            end: "bottom 100%",
            scrub: 3,
        });

        sceneTransition.to("#h2-1", { y: -680, scale: 1.5, transformOrigin: "50% 50%" }, 0)
        sceneTransition.to("#bg_grad", { attr: { cy: "-80" } }, 0.00)
        sceneTransition.to("#bg2", { y: 0 }, 0)



        /* Scene 3 */
        let scene3 = gsap.timeline();
        ScrollTrigger.create({
            animation: scene3,
            trigger: ".scrollElement",
            start: "80% 50%",
            end: "bottom 100%",
            scrub: 3,
        });

        //Hills motion
        scene3.fromTo("#h3-1", { y: 300 }, { y: -550 }, 0)
        scene3.fromTo("#h3-2", { y: 800 }, { y: -550 }, 0.03)
        scene3.fromTo("#h3-3", { y: 600 }, { y: -550 }, 0.06)
        scene3.fromTo("#h3-4", { y: 800 }, { y: -550 }, 0.09)
        scene3.fromTo("#h3-5", { y: 1000 }, { y: -550 }, 0.12)

        //stars
        scene3.fromTo("#stars", { opacity: 0 }, { opacity: 0.5, y: -500 }, 0)

        // Scroll Back text
        scene3.fromTo("#arrow2", { opacity: 0 }, { opacity: 0.7, y: -710 }, 0.25)
        scene3.fromTo("#text2", { opacity: 0 }, { opacity: 0.7, y: -710 }, 0.3)

        //gradient value change
        scene3.to("#bg2-grad", { attr: { cy: 600 } }, 0)
        scene3.to("#bg2-grad", { attr: { r: 500 } }, 0)


        /*   falling star   */
        gsap.to("#fstar", {
            x: -700,
            y: -250,
            ease: "power4.out",
            scrollTrigger: {
                trigger: ".scrollElement",
                start: "4000 top",
                end: "6000 100%",
                scrub: 5,
                onEnter: function() { gsap.set("#fstar", { opacity: 1 }) },
                onLeave: function() { gsap.set("#fstar", { opacity: 0 }) },
            }
        })


        //reset scrollbar position after refresh
        window.onbeforeunload = function() {
            window.scrollTo(0, 0);
        }


    let fullscreen;
    let fsEnter = document.getElementById('fullscr');
    fsEnter.addEventListener('click', function (e) {
        e.preventDefault();
        if (!fullscreen) {
            fullscreen = true;
            document.documentElement.requestFullscreen();
            fsEnter.innerHTML = "Exit Fullscreen";
        }
        else {
            fullscreen = false;
            document.exitFullscreen();
            fsEnter.innerHTML = "Go Fullscreen";
        }
    });
    </script>
    
</body>
</html>